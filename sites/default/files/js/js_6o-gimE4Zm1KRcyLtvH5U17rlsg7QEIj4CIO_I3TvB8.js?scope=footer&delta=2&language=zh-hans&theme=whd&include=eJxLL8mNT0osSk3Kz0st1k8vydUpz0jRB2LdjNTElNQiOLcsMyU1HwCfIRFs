/* @license GPL-2.0-or-later https://www.drupal.org/licensing/faq */
(function(Drupal){'use strict';let processed=false;Drupal.behaviors.whdHeader={attach:function(context,settings){if(processed===true)return;var mainNav=document.querySelector('.main-nav');if(!mainNav)return;var mainNavToggle=document.querySelector('.main-nav__toggle');if(!mainNavToggle)return;var mainNavContents=document.querySelector('.main-nav__contents');if(!mainNavContents)return;var mainNavLinks=document.querySelectorAll('.main-nav__contents a');if(!mainNavLinks)return;function closeNav(ev){mainNav.classList.remove('is--expanded');mainNavToggle.setAttribute('aria-expanded',String(false));mainNavContents.setAttribute('aria-hidden',String(true));}mainNavToggle.addEventListener('click',function(ev){var pressed=mainNavToggle.getAttribute('aria-expanded')==='true';mainNavToggle.setAttribute('aria-expanded',String(!pressed));mainNav.classList.toggle('is--expanded');mainNavContents.setAttribute('aria-hidden',String(pressed));});mainNavContents.setAttribute('aria-hidden','true');mainNavContents.classList.add('is--processed');mainNavLinks.forEach((el)=>{el.addEventListener('click',closeNav);});mainNav.addEventListener('focusout',(ev)=>{if(!mainNav.contains(ev.relatedTarget))closeNav();});processed=true;}};})(Drupal);;
(function($){'use strict';const videos=document.querySelectorAll('.video');videos.forEach((thisVideo)=>{const thisButton=document.createElement('button');thisButton.classList.add('video__button');thisButton.innerHTML='<span class="visually-hidden">'+thisVideo.dataset.videoButtonLabel+'</span>';thisButton.addEventListener('click',(ev)=>{prepVideo(thisVideo);});thisVideo.appendChild(thisButton);const originalLink=thisVideo.querySelector('a');originalLink.addEventListener('click',(ev)=>{prepVideo(thisVideo);ev.preventDefault();});originalLink.addEventListener('pointerover',(ev)=>{if(thisVideo.dataset.videoConnected==='true')return;addPrefetch('preconnect','https://www.youtube.com');addPrefetch('preconnect','https://www.google.com');thisVideo.dataset.videoConnected='true';});});function prepVideo(video){video.innerHTML='<iframe class="video__iframe" src="https://www.youtube.com/embed/'+video.dataset.videoSlug+'?autoplay=1&playsinline=1&rel=0&enablejsapi=1&origin='+encodeURIComponent(video.dataset.videoOrigin)+'" frameborder="0" allow="autoplay; fullscreen" sandbox="allow-same-origin allow-scripts"></iframe>';}function addPrefetch(kind,url,as){const linkEl=document.createElement('link');linkEl.rel=kind;linkEl.href=url;if(as)linkEl.as=as;document.head.append(linkEl);}})();;
